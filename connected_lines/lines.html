<!DOCTYPE html>
<html>
<head>
  <title>Lines</title>
  </head>
  <body>
    <canvas style="border-style:solid;padding: 0;" id="canv"></canvas>
    <pre id="coords"></pre>
    <script>
      var c = document.getElementById("canv");
      var ctx = c.getContext("2d");

      class Square {
        constructor(x, y, wh, ctxt){
          this.xpos = x;
          this.ypos = y;
          this.size = wh;
          this.ctx = ctxt;
          this.rect = this.ctx.canvas.getBoundingClientRect();
        }
        draw(){
          this.ctx.beginPath();
          this.ctx.rect(this.xpos, this.xpos, this.size, this.size);
          this.ctx.stroke();
        }
        pointer_in(ptrx, ptry){
          let ptrposx = ptrx - this.rect.left;
          let ptrposy = ptry - this.rect.top;
          if(ptrposx >= this.xpos && ptrposx <= this.xpos + this.size && ptrposy >= this.ypos && ptrposy <= this.ypos + this.size){
            return true;
          } else {
            return false;
          }
        }
      };

      let sq1 = new Square(10,10,30,ctx);
      sq1.draw();
      console.log(sq1.pointer_in(20,20))

      c.addEventListener('mousemove', e => {
          var output = "";
          let x = e.clientX;
          let y = e.clientY;

          if(sq1.pointer_in(x,y)){
            output = "[" + x + ", " + y + "]";
          } else {
            output = x + ", " + y ;
          }
          // posx = e.clientX - rect.left;
          // posy = e.clientY - rect.top;
          // if(x >= posx && x <= posx + width && y >= posy && y <= posy + height){
            // output = "[" + x + ", " + y + "]";
          // } else {
          //   output = x + ", " + y ;
          // }
          document.getElementById("coords").innerHTML = output;
          // ctx.clearRect(0, 0, cwidth, cheight);
          // ctx.beginPath();
          // ctx.moveTo(0, 0);
          // ctx.lineTo(posx, posy);
          // ctx.stroke();
          // ctx.beginPath();
          // ctx.rect(posx, posy, width, height);
          // ctx.stroke();
      });

      // ctx.beginPath();
      // ctx.moveTo(0, 0);
      // ctx.lineTo(posx, posy);
      // ctx.stroke();
      // ctx.beginPath();
      // ctx.rect(posx, posy, width, height);
      // ctx.stroke();
    </script>
  </body>
</html>